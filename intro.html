<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Warzone – Radar Sweep & Glitch Reveal</title>
  <style>
    :root{
      --bg: #05080c;
      --grid: #1a2a3a;
      --grid-2: #0e1722;
      --pulse: #00ffc8;
      --sweep: rgba(0, 255, 200, 0.22);
      --text: #e8f1ff;
      --accent1: #00ffc8; /* cyan */
      --accent2: #39a0ff; /* blue */
      --accent3: #ff3366; /* magenta */
    }

    html,body{height:100%;}
    body{
      margin:0;
      background: radial-gradient(1200px 800px at 50% 60%, #0b0f14 0%, #06090f 55%, var(--bg) 100%);
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      overflow:hidden;
    }
    svg{display:block; width:100vw; height:100vh;}

    /* ---------- TEXT: GLITCH REVEAL ---------- */


    .title-wrap{ position: absolute; inset: 0; display:grid; place-items:center; pointer-events:none; }
    .title{ position: relative; text-transform: uppercase; text-align:center; filter: drop-shadow(0 8px 40px rgba(0,0,0,0.75)); animation: reveal 1200ms ease-out 400ms both; }
    .title .big{ font-weight: 850; font-size: clamp(48px, 9vw, 132px); }
    .title .small{ font-weight: 700; font-size: clamp(12px, 2vw, 20px); opacity:0.85; letter-spacing:0.28em; }

    .glitch{
      --shadow: drop-shadow(0 0 8px rgba(57,160,255,0.35)) drop-shadow(0 0 16px rgba(0,255,200,0.25));
      filter: var(--shadow);
      animation: glitch-in 1200ms steps(24) 0ms both;
    }
    .glitch::before, .glitch::after{
      content: attr(data-text);
      position:absolute; inset:0; mix-blend-mode:screen; pointer-events:none;
    }
    /* .glitch::before{ color: var(--accent2); animation: chroma 900ms steps(18) infinite, shake 1200ms steps(24) infinite; }
    .glitch::after{ color: var(--accent3); animation: chroma 900ms steps(18) infinite reverse, shake 1200ms steps(24) infinite reverse; } */

    /* .glitch::before{ color: var(--accent2); transform: translate(0,0); animation: chroma 700ms steps(12) 0ms both, shake 1100ms steps(18) 60ms both; }
    .glitch::after{ color: var(--accent3); transform: translate(0,0); animation: chroma 700ms steps(12) 0ms reverse both, shake 1100ms steps(18) 60ms reverse both; } */
    .glitch::before {
        color: #39a0ff;
        transform: translate(0, 0);
        animation: chroma 1050ms steps(12) 0ms both, shake 1650ms steps(18) 60ms both;
    }

    .glitch::after {
        color: #ff3366;
        transform: translate(0, 0);
        animation: chroma 1050ms steps(12) 0ms reverse both, shake 1650ms steps(18) 60ms reverse both;
    }


    /* Stabilize after 3s by disabling all glitch animations */
    .glitch.stabilized{ animation: none !important; filter: drop-shadow(0 8px 40px rgba(0,0,0,0.75)); }
    .glitch.stabilized::before,
    .glitch.stabilized::after{ animation: none !important; }

    @keyframes chroma{ 0%{transform:translate(0,0);} 50%{transform:translate(12px,-6px);} 100%{transform:translate(0,0);} }
    @keyframes shake{
      0%{ clip-path: inset(0 0 82% 0); transform: translate(0,0); }
      15%{ clip-path: inset(38% 0 24% 0); transform: translate(-10px,5px); }
      35%{ clip-path: inset(12% 0 62% 0); transform: translate(10px,-6px); }
      55%{ clip-path: inset(70% 0 6% 0); transform: translate(-8px,4px); }
      75%{ clip-path: inset(44% 0 28% 0); transform: translate(8px,-5px); }
      100%{ clip-path: inset(0 0 82% 0); transform: translate(0,0); }
    }
    @keyframes glitch-in{ 0%{filter: blur(5px) brightness(1.8) saturate(1.8);} 80%{filter: blur(1px) brightness(1.2);} 100%{ filter: none; } }
    @keyframes reveal{ from{ opacity:0; transform: translateY(12px) scale(1.04); letter-spacing: 0.3em; } to{ opacity:1; transform: translateY(0) scale(1); letter-spacing: 0.06em; } }

    @media (prefers-reduced-motion: reduce){
      .glitch, .glitch::before, .glitch::after{ animation: none !important; }
      .title{ animation: none !important; }
      .radar [anim], .radar .pulse, .radar .blip { display: none; }
    }

    /* Safari-specific fixes */
    @supports not (mix-blend-mode: screen) {
      .glitch::before, .glitch::after { 
        mix-blend-mode: normal; 
        opacity: 0.3;
      }
    }
    
    /* Additional Safari fix for lingering colors */
    .glitch.stabilized::before {
      color: transparent !important;
    }
    
    .glitch.stabilized::after {
      color: transparent !important;
    }
    
    /* Ensure SVG displays correctly in Safari */
    svg { 
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
    }



    /* ---------- HUD CORNERS ---------- */
    .hud-corner{ position:absolute; width:18vmin; height:18vmin; opacity:0.45; }
    .hud-tl{ top:2vmin; left:2vmin; }
    .hud-tr{ top:2vmin; right:2vmin; transform: scaleX(-1); }
    .hud-bl{ bottom:2vmin; left:2vmin; transform: scaleY(-1); }
    .hud-br{ bottom:2vmin; right:2vmin; transform: scale(-1); }
  </style>
</head>
<body>

  <!-- Title / Logo Glitch Reveal -->
  <div class="title-wrap" aria-hidden="true">
    <div class="title">
      <div class="small">CALL • OF • DUTY</div>
      <div class="big glitch" data-text="WARZONE">WARZONE</div>
      <div class="small" style="margin-top:0.2em; opacity:0.7;">DEPLOYMENT ONLINE</div>
    </div>
  </div>

  <!-- Decorative HUD corners -->
  <svg class="hud-corner hud-tl" viewBox="0 0 100 100" aria-hidden="true">
    <path d="M4 96 V20 A16 16 0 0 1 20 4 H96" fill="none" stroke="#1a2a3a" stroke-width="2" />
    <path d="M12 88 V28 A8 8 0 0 1 20 20 H88" fill="none" stroke="#00ffc8" stroke-width="1" opacity=".5" />
  </svg>
  <svg class="hud-corner hud-tr" viewBox="0 0 100 100" aria-hidden="true">
    <path d="M4 96 V20 A16 16 0 0 1 20 4 H96" fill="none" stroke="#1a2a3a" stroke-width="2" />
    <path d="M12 88 V28 A8 8 0 0 1 20 20 H88" fill="none" stroke="#00ffc8" stroke-width="1" opacity=".5" />
  </svg>
  <svg class="hud-corner hud-bl" viewBox="0 0 100 100" aria-hidden="true">
    <path d="M4 96 V20 A16 16 0 0 1 20 4 H96" fill="none" stroke="#1a2a3a" stroke-width="2" />
    <path d="M12 88 V28 A8 8 0 0 1 20 20 H88" fill="none" stroke="#00ffc8" stroke-width="1" opacity=".5" />
  </svg>
  <svg class="hud-corner hud-br" viewBox="0 0 100 100" aria-hidden="true">
    <path d="M4 96 V20 A16 16 0 0 1 20 4 H96" fill="none" stroke="#1a2a3a" stroke-width="2" />
    <path d="M12 88 V28 A8 8 0 0 1 20 20 H88" fill="none" stroke="#00ffc8" stroke-width="1" opacity=".5" />
  </svg>

  <!-- Fullscreen SVG Radar -->
  <svg role="img" aria-label="Radar sweep with tactical grid and glitching title" viewBox="-512 -512 1024 1024" preserveAspectRatio="xMidYMid slice">
    <defs>
      <!-- Grid hatch pattern -->
      <pattern id="grid" width="32" height="32" patternUnits="userSpaceOnUse">
        <rect width="32" height="32" fill="transparent" />
        <path d="M0 0H32 M0 0V32" stroke="#0e1722" stroke-width="1" opacity="0.7" />
        <path d="M0 0H16 M0 0V16" stroke="#1a2a3a" stroke-width="0.5" opacity="0.35"/>
      </pattern>

      <!-- Soft glow -->
      <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="2" result="b"/>
        <feMerge>
          <feMergeNode in="b"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>

      <!-- Sweep blur -->
      <filter id="sweepBlur" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="1.2" />
      </filter>

      <!-- Blip glow -->
      <filter id="blip" x="-200%" y="-200%" width="400%" height="400%">
        <feGaussianBlur stdDeviation="2"/>
        <feColorMatrix type="matrix" values="0 0 0 0 0  0 0 0 0 1  0 0 0 0 .85  0 0 0 1 0"/>
      </filter>

      <!-- Center vignette mask -->
      <radialGradient id="vignette" cx="0" cy="0" r="1">
        <stop offset="60%" stop-color="white" stop-opacity="1"/>
        <stop offset="100%" stop-color="black" stop-opacity="0.1"/>
      </radialGradient>
      <mask id="soft-vignette">
        <rect x="-1000" y="-1000" width="2000" height="2000" fill="url(#vignette)"/>
      </mask>

      <!-- Sweep wedge gradient (fade towards trailing edge) -->
      <linearGradient id="sweepGrad" x1="0" y1="0" x2="1" y2="0">
        <stop offset="0%" stop-color="rgba(0, 255, 200, 0.22)" stop-opacity="0.02"/>
        <stop offset="100%" stop-color="rgba(0, 255, 200, 0.22)" stop-opacity="1"/>
      </linearGradient>

    </defs>

    <!-- Infinite tactical grid background -->
    <rect x="-1024" y="-1024" width="2048" height="2048" fill="url(#grid)" opacity="0.35"/>

    <g class="radar" mask="url(#soft-vignette)">
      <!-- concentric range rings -->
      <g stroke-linecap="round">
        <circle r="480" fill="none" stroke="#1a2a3a" stroke-width="2" />
        <circle r="360" fill="none" stroke="#1a2a3a" stroke-width="2" />
        <circle r="240" fill="none" stroke="#1a2a3a" stroke-width="2" />
        <circle r="120" fill="none" stroke="#1a2a3a" stroke-width="2" />
      </g>

      <!-- crosshair axes -->
      <g stroke="#1a2a3a" stroke-width="2">
        <path d="M-512 0H512" />
        <path d="M0 -512V512" />
      </g>

      <!-- pulsing center ping -->
      <circle class="pulse" r="0" fill="none" stroke="#00ffc8" stroke-width="3" opacity=".8">
        <animate attributeName="r" values="0;480" dur="3.2s" repeatCount="indefinite" />
        <animate attributeName="opacity" values="0.9;0" dur="3.2s" repeatCount="indefinite" />
      </circle>

      <!-- radar sweep wedge -->
      <g filter="url(#sweepBlur)">
        <!-- 40° wedge pointing up; rotated continuously -->
        <path id="wedge" fill="url(#sweepGrad)" d="M0,0 L0,-480 A480,480 0 0 1 335,-335 Z" opacity="0.9">
          <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 0 0" to="360 0 0" dur="6s" repeatCount="indefinite"/>
        </path>
      </g>

      <!-- coordinate ticks -->
      <g stroke="#1a2a3a" opacity="0.65">
        <!-- minor ticks every 10° -->
        <g id="ticks">
          <!-- generated by hand: 36 lines -->
          <path d="M0,-480 v12"/>
          <path d="M83,-473 v8" transform="rotate(10)"/>
          <path d="M83,-473 v8" transform="rotate(20)"/>
          <path d="M83,-473 v8" transform="rotate(30)"/>
          <path d="M83,-473 v8" transform="rotate(40)"/>
          <path d="M83,-473 v8" transform="rotate(50)"/>
          <path d="M83,-473 v8" transform="rotate(60)"/>
          <path d="M83,-473 v8" transform="rotate(70)"/>
          <path d="M0,-480 v12" transform="rotate(80)"/>
          <path d="M0,-480 v12" transform="rotate(90)"/>
          <path d="M0,-480 v12" transform="rotate(100)"/>
          <path d="M0,-480 v12" transform="rotate(110)"/>
          <path d="M0,-480 v12" transform="rotate(120)"/>
          <path d="M0,-480 v12" transform="rotate(130)"/>
          <path d="M0,-480 v12" transform="rotate(140)"/>
          <path d="M0,-480 v12" transform="rotate(150)"/>
          <path d="M0,-480 v12" transform="rotate(160)"/>
          <path d="M0,-480 v12" transform="rotate(170)"/>
          <path d="M0,-480 v12" transform="rotate(180)"/>
          <path d="M0,-480 v12" transform="rotate(190)"/>
          <path d="M0,-480 v12" transform="rotate(200)"/>
          <path d="M0,-480 v12" transform="rotate(210)"/>
          <path d="M0,-480 v12" transform="rotate(220)"/>
          <path d="M0,-480 v12" transform="rotate(230)"/>
          <path d="M0,-480 v12" transform="rotate(240)"/>
          <path d="M0,-480 v12" transform="rotate(250)"/>
          <path d="M0,-480 v12" transform="rotate(260)"/>
          <path d="M0,-480 v12" transform="rotate(270)"/>
          <path d="M0,-480 v12" transform="rotate(280)"/>
          <path d="M0,-480 v12" transform="rotate(290)"/>
          <path d="M0,-480 v12" transform="rotate(300)"/>
          <path d="M0,-480 v12" transform="rotate(310)"/>
          <path d="M0,-480 v12" transform="rotate(320)"/>
          <path d="M0,-480 v12" transform="rotate(330)"/>
          <path d="M0,-480 v12" transform="rotate(340)"/>
          <path d="M0,-480 v12" transform="rotate(350)"/>
        </g>
      </g>

      <!-- random blips -->
      <g id="blips" filter="url(#glow)">
        <!-- Each blip flickers on when the sweep passes; durations are staggered -->
        <g transform="translate(180,-220)">
          <circle r="3.5" fill="#00ffc8" opacity="0.1" filter="url(#blip)">
            <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.08;1" dur="6s" begin="0s" repeatCount="indefinite"/>
          </circle>
        </g>
        <g transform="translate(-260,-120)">
          <circle r="4" fill="#00ffc8" opacity="0.1" filter="url(#blip)">
            <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.08;1" dur="6s" begin="1.1s" repeatCount="indefinite"/>
          </circle>
        </g>
        <g transform="translate(-140,280)">
          <circle r="3.2" fill="#00ffc8" opacity="0.1" filter="url(#blip)">
            <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.08;1" dur="6s" begin="2.4s" repeatCount="indefinite"/>
          </circle>
        </g>
        <g transform="translate(300,60)">
          <circle r="3.8" fill="#00ffc8" opacity="0.1" filter="url(#blip)">
            <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.08;1" dur="6s" begin="3.2s" repeatCount="indefinite"/>
          </circle>
        </g>
        <g transform="translate(-40,-360)">
          <circle r="3.2" fill="#00ffc8" opacity="0.1" filter="url(#blip)">
            <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.08;1" dur="6s" begin="4.5s" repeatCount="indefinite"/>
          </circle>
        </g>
        <g transform="translate(40,-60)">
          <circle r="2.6" fill="#00ffc8" opacity="0.12" filter="url(#blip)">
            <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.08;1" dur="6s" begin="5.1s" repeatCount="indefinite"/>
          </circle>
        </g>
      </g>

      <!-- center dot -->
      <circle r="3" fill="#00ffc8" />
      <circle r="12" fill="none" stroke="#00ffc8" stroke-width="1" opacity="0.35" />
    </g>

    <!-- HUD readout text -->
    <g font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="14" fill="rgba(200,230,255,.65)">
      <text x="-480" y="-468">UAV ONLINE</text>
      <text x="-480" y="-448">SCAN MODE: ACTIVE</text>
      <text x="-480" y="-428">SIG BLIPS: 06</text>
      <text x="356" y="-468" text-anchor="end">GRID: VERDANSK</text>
      <text x="356" y="-448" text-anchor="end">RANGE: 480m</text>
    </g>

  </svg>

  <script>
    // End the glitch after 3 seconds and stabilize the logo
    setTimeout(()=>{
      const g = document.querySelector('.glitch');
      if(g){ g.classList.add('stabilized'); }
    }, 3000);

    // Redirect to war.html on any click anywhere
    document.addEventListener('click', () => { window.location.href = 'warzone.html'; }, { once: true });
  </script>
</body>
</html>
